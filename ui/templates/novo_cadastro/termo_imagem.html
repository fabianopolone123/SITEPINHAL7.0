<!doctype html>
{% load static %}
<html lang="pt-br">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Termo de Autorização de Uso de Imagem</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
  <style>
    :root{--orange:#f3a75a;--blue:#2aa6d6;--title:#2c6fa3;--text:#222}*{box-sizing:border-box}
    body{margin:0;padding:24px;font-family:"Times New Roman",serif;background:#f2f4f7;color:var(--text)}
    .page{max-width:820px;margin:0 auto;background:#fff;border:4px solid var(--orange);padding:10px;box-shadow:0 8px 20px rgba(0,0,0,.1)}
    .inner{border:2px solid var(--blue);padding:20px 20px 40px;min-height:1000px;position:relative}
    .header{text-align:center;position:relative;padding-top:10px}.header .title1{font-weight:bold;font-size:22px}.header .title2{font-size:14px;margin-top:4px}
    .logo{position:absolute;right:10px;top:0;width:90px;height:90px;border-radius:12px;object-fit:cover}
    .main-title{text-align:center;font-size:34px;font-weight:bold;color:var(--title);margin:40px 0 20px;border-bottom:2px solid #cbd5e1;padding-bottom:8px}
    .text{font-size:17px;line-height:1.7;text-align:justify;margin-top:20px}.line-input{border:none;border-bottom:1px solid #000;min-width:120px;font-size:17px;outline:none;text-align:center;background:transparent}
    .long{width:260px}.medium{width:180px}.short{width:100px}.date{margin-top:40px;text-align:center;font-size:18px}
    .signature{margin-top:40px;text-align:center}.signature-widget canvas{width:100%;max-width:500px;border:1px solid #cbd5f5;border-radius:10px;background:#fff;min-height:130px}
    .final-fields{margin-top:40px;font-size:18px}.field{margin:16px 0}
    .muted-note{font-size:12px;color:#475569}
    .action-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}.btn{padding:8px 12px;border-radius:8px;border:1px solid #cbd5f5;background:#fff;cursor:pointer}.btn.primary{background:#2c6fa3;color:#fff;border-color:#2c6fa3}
    .footer{position:absolute;bottom:10px;left:10px;display:flex;gap:10px}.badge{width:44px;height:44px;border-radius:50%;object-fit:cover}

    /* Redesign visual */
    body{
      background:
        radial-gradient(circle at 8% 8%, rgba(37,99,235,.14), transparent 42%),
        radial-gradient(circle at 92% 12%, rgba(14,165,233,.12), transparent 40%),
        linear-gradient(180deg,#f7fbff 0%,#eef4fb 100%);
      color:#0f172a;
    }
    .page{border:1px solid #dbeafe;border-radius:22px;padding:14px;background:#fff;box-shadow:0 28px 60px rgba(15,23,42,.12)}
    .inner{border:1px solid #bfdbfe;border-radius:18px;padding:16px 16px 52px;background:#fff;min-height:auto}
    .flow-progress{
      display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;
      margin:0 0 12px;padding:10px 12px;border-radius:14px;background:linear-gradient(135deg,#eff6ff,#f0f9ff);
      border:1px solid #dbeafe;
    }
    .flow-badge{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;background:#fff;border:1px solid #bfdbfe;color:#1e40af;font-size:12px;font-weight:700}
    .header{background:linear-gradient(180deg,#fbfdff,#f8fbff);border:1px solid #e2e8f0;border-radius:16px;padding:12px}
    .logo{border:none;box-shadow:0 10px 20px rgba(15,23,42,.10)}
    .main-title{
      color:#1d4ed8;
      background:linear-gradient(135deg,#1d4ed8,#0ea5e9);
      -webkit-background-clip:text;background-clip:text;color:transparent;
      border-bottom:1px solid #dbeafe;
      margin-top:18px;
    }
    .text,.date,.final-fields{font-family:Georgia,"Times New Roman",serif}
    .text{background:#fff;border:1px solid #e2e8f0;border-radius:14px;padding:14px;line-height:1.8}
    .line-input{
      border:none;border-bottom:1px solid #60a5fa;background:rgba(239,246,255,.55);
      border-radius:6px 6px 0 0;padding:4px 6px;
    }
    .date{border:1px solid #e2e8f0;border-radius:14px;padding:12px;background:#f8fbff}
    .signature-widget{background:#f8fbff;border:1px solid #dbeafe;border-radius:14px;padding:12px}
    .signature-widget canvas{box-shadow:inset 0 0 0 1px rgba(255,255,255,.6)}
    .final-fields{border:1px solid #e2e8f0;border-radius:14px;padding:14px;background:#fff}
    .btn{border-radius:12px;padding:10px 14px;font-weight:700;transition:transform .15s ease, box-shadow .15s ease}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 20px rgba(15,23,42,.08)}
    .btn.primary{background:linear-gradient(135deg,#1d4ed8,#2563eb);border-color:#1d4ed8}
    .footer{position:static;margin-top:14px;border-top:1px solid #dbeafe;padding-top:10px}
    .badge{box-shadow:0 8px 18px rgba(15,23,42,.08)}
  </style>
</head>
<body>
  <div class="page"><div class="inner">
    <form method="post">{% csrf_token %}
      <div class="flow-progress">
        <div>
          <strong style="color:#1d4ed8;">Etapa 4/4 · Termo de imagem</strong>
          <div class="muted-note">Aventureiro {{ current_aventureiro_index|default:1 }} de {{ target_aventureiros_count|default:1 }}</div>
        </div>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <span class="flow-badge">Salvos: {{ saved_aventureiros_count|default:0 }}</span>
          <span class="flow-badge">Restantes: {{ remaining_aventureiros_count|default:1 }}</span>
        </div>
      </div>
      <div class="header"><div class="title1">CLUBE DE AVENTUREIROS</div><div class="title2">IGREJA ADVENTISTA DO SÉTIMO DIA</div><img class="logo" src="{% static 'images/logo_htmls.jpg' %}?v=2" alt="Logo" /></div>
      <div class="main-title">Termo de Autorização de Uso de Imagem</div>
      <div class="text">
        <input class="line-input long" type="text" name="nome_aventureiro_termo" value="{{ step_data.nome_aventureiro_termo|default:initial.nome_aventureiro_termo|default:'' }}">, nacionalidade
        <input class="line-input medium" type="text" name="aventureiro_nacionalidade" value="{{ step_data.aventureiro_nacionalidade|default:initial.aventureiro_nacionalidade|default:'' }}">,
        menor de idade, neste ato devidamente representado por seu (sua) responsável legal,
        <input class="line-input long" type="text" name="responsavel_nome_termo" value="{{ step_data.responsavel_nome_termo|default:initial.responsavel_nome_termo|default:'' }}">,
        nacionalidade <input class="line-input medium" type="text" name="responsavel_nacionalidade_termo" value="{{ step_data.responsavel_nacionalidade_termo|default:initial.responsavel_nacionalidade_termo|default:'' }}">,
        estado civil <input class="line-input medium" type="text" name="responsavel_estado_civil_termo" value="{{ step_data.responsavel_estado_civil_termo|default:'' }}">,
        portador da Cédula de identidade RG nº <input class="line-input medium" type="text" name="responsavel_rg_termo" value="{{ step_data.responsavel_rg_termo|default:'' }}">,
        inscrito no CPF sob nº <input class="line-input medium" type="text" name="responsavel_cpf_termo" value="{{ step_data.responsavel_cpf_termo|default:initial.responsavel_cpf_termo|default:'' }}">,
        residente na Av/Rua <input class="line-input long" type="text" name="responsavel_endereco_termo" value="{{ step_data.responsavel_endereco_termo|default:initial.responsavel_endereco_termo|default:'' }}">,
        nº <input class="line-input short" type="text" name="responsavel_numero_termo" value="{{ step_data.responsavel_numero_termo|default:'' }}">,
        município de <input class="line-input medium" type="text" name="responsavel_cidade_termo" value="{{ step_data.responsavel_cidade_termo|default:initial.responsavel_cidade_termo|default:'' }}"> /
        <input class="line-input short" type="text" name="responsavel_estado_termo" value="{{ step_data.responsavel_estado_termo|default:initial.responsavel_estado_termo|default:'' }}">.
      </div>
      <div class="date"><input class="line-input long" type="text" name="cidade_data" value="{{ step_data.cidade_data|default:initial.cidade_data|default:'' }}">, dia <input class="line-input short" type="text" name="dia_data" value="{{ step_data.dia_data|default:initial.dia_data|default:'' }}"> de <input class="line-input medium" type="text" name="mes_data" value="{{ step_data.mes_data|default:initial.mes_data|default:'' }}"> de <input class="line-input short" type="text" name="ano_data" value="{{ step_data.ano_data|default:initial.ano_data|default:'' }}">.</div>
      <div class="signature"><div class="signature-widget"><p class="required-sign-label">Assinatura</p><canvas width="500" height="170"></canvas><input type="hidden" name="assinatura_termo_imagem" value="{{ step_data.assinatura_termo_imagem|default:'' }}" data-required="true" data-required-target=".required-sign-label" /><div class="action-row"><button type="button" class="btn" data-action="clear-sign">Limpar</button><button type="button" class="btn primary" data-action="save-sign">Salvar assinatura</button></div><p class="signature-status"></p></div></div>
      <div class="final-fields"><div class="field">Nome da criança: <input class="line-input long" type="text" value="{{ step_data.nome_aventureiro_termo|default:initial.nome_aventureiro_termo|default:'' }}"></div><div class="field">Por seu Responsável Legal: <input class="line-input long" type="text" value="{{ step_data.responsavel_nome_termo|default:initial.responsavel_nome_termo|default:'' }}"></div><div class="field">Telefone p/ contato: <input class="line-input medium" type="text" name="telefone_contato_termo" value="{{ step_data.telefone_contato_termo|default:initial.telefone_contato_termo|default:'' }}"></div><div class="field">E-mail p/ contato: <input class="line-input medium" type="email" name="email_contato_termo" value="{{ step_data.email_contato_termo|default:initial.email_contato_termo|default:'' }}"></div></div>
      <div class="action-row"><button type="submit" class="btn primary">Próximo</button></div>
      <div class="footer"><img class="badge" src="{% static 'images/icone1.png' %}?v=2" alt="Ícone 1" /><img class="badge" src="{% static 'images/icone2.png' %}?v=2" alt="Ícone 2" /><img class="badge" src="{% static 'images/icone3.png' %}?v=2" alt="Ícone 3" /><img class="badge" src="{% static 'images/icone4.png' %}?v=2" alt="Ícone 4" /></div>
    </form>
  </div></div>
  <script src="{% static 'js/novo_cadastro.js' %}" defer></script>
</body>
</html>

